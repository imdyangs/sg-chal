(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n(4),c=n.n(s),a=n(36),o=n.n(a),r=(n(48),n(37)),l=n(38),d=n(42),j=n(40),b=n(41),u=n(39),h=n.n(u),p=(n(125),function(e){var t=e.job,n=(e.jobs,Object(s.useState)(!1)),c=Object(b.a)(n,2),a=c[0],o=c[1];return Object(i.jsx)("div",{className:"job-tab",style:{backgroundColor:a?"rgb(131 130 140 / 10%)":null},children:Object(i.jsxs)("div",{className:"job-vis",onClick:function(){return o(!a)},children:[Object(i.jsxs)("div",{className:"job-header",children:[Object(i.jsxs)("div",{className:"job-title",children:[t.title," \u2022 ",Object(i.jsx)("b",{children:t.company.name})]}),Object(i.jsxs)("div",{className:"job-location",children:[t.citiesString," \u2022 ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(t.postedAt)]})]}),a?Object(i.jsxs)("div",{className:"job-description",children:[Object(i.jsx)("div",{className:"job-description-title",children:"Description"}),Object(i.jsx)(h.a,{children:t.description}),Object(i.jsx)("div",{className:"job-contact",children:Object(i.jsx)("div",{className:"job-application-btn",onClick:function(){return window.open(t.company.websiteUrl)},children:"Apply Here"})})]}):null]})})}),m=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).handleChange=function(t){t.preventDefault(),e.setState({locationSearch:t.target.value},(function(){if(""===e.state.locationSearch)e.debouncedSetDisplayedJobs(e.state.jobs);else{var n=e.state.jobs.filter((function(e){return e.citiesString.toLowerCase().includes(t.target.value)}));e.debouncedSetDisplayedJobs(n)}}))},e.state={jobs:[],displayedJobs:[],locationSearch:"",jobsLoaded:!1},e.debouncedSetDisplayedJobs=function(e,t){var n;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];var a=this;clearTimeout(n),n=setTimeout((function(){return e.apply(a,s)}),t)}}((function(t){e.setState({displayedJobs:t})}),150),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n  query {\n    jobs {\n      id\n      title\n      cities {\n        name\n        id\n      }\n      description\n      company {\n        id\n        name\n        websiteUrl\n      }\n      postedAt\n    }\n  }\n"})};fetch("https://api.graphql.jobs/",t).then((function(e){return e.json()})).then((function(t){var n=function(e){return e.map((function(e){return 0===e.cities.length?(e.cities[0]="NO_CITY",e.citiesString="Remote / No Location"):1===e.cities.length?(e.cities=[e.cities[0].name],e.citiesString=e.cities[0]):(e.cities=e.cities.map((function(e){return e.name})),e.citiesString=e.cities.join(" \u2022 ")),e.postedAt=new Date(e.postedAt),e}))}(t.data.jobs);n=function(e){return e.sort((function(e,t){return t.postedAt-e.postedAt}))}(n),e.setState({jobs:n,displayedJobs:n,jobsLoaded:!0})})).catch(console.error)}},{key:"render",value:function(){var e=this;return Object(i.jsx)("div",{className:"app",children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("div",{className:"title",children:"Walmart AngelList"}),Object(i.jsxs)("div",{className:"job-filters",children:["Search jobs by city "," ",Object(i.jsx)("input",{className:"job-location-search",value:this.state.locationSearch,onChange:this.handleChange})]}),Object(i.jsx)("div",{className:"open-positions",children:"Open Positions"}),Object(i.jsx)("div",{className:"job-content",children:0!==this.state.displayedJobs.length||this.state.jobsLoaded?this.state.displayedJobs.map((function(t){return Object(i.jsx)(p,{job:t,jobs:e.state.jobs},t.id)})):Object(i.jsx)("div",{className:"loader"})})]})})}}]),n}(c.a.Component);var f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,127)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),s(e),c(e),a(e)}))};o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(m,{})}),document.getElementById("root")),f()},48:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.a4584c06.chunk.js.map